<!doctype html>
<html lang="ko" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
  <style>
    :root{
      --bg:#0f1229; --card:#151b3a; --text:#eaf0ff; --muted:#9aa3c7;
      --accent:#7ca6ff; --accent2:#8df3ff; --border:rgba(255,255,255,.12);
      --ok:#29d398; --warn:#ffd166; --danger:#ff6b6b; --input:#0e1331;
      --shadow:0 16px 44px rgba(0,0,0,.38);
    }
    [data-theme="light"]{
      --bg:#f3f6ff; --card:#ffffff; --text:#1a213b; --muted:#5d688a;
      --accent:#4c7dff; --accent2:#3bd6ff; --border:rgba(10,20,60,.14);
      --ok:#10b981; --warn:#f59e0b; --danger:#ef4444; --input:#f7faff;
      --shadow:0 12px 28px rgba(32,40,94,.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:
        radial-gradient(900px 500px at 12% -10%, rgba(124,166,255,.18), transparent 60%),
        radial-gradient(900px 600px at 110% 0%, rgba(141,243,255,.18), transparent 60%),
        var(--bg);
      color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans KR',Pretendard,sans-serif;
      min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .app{width:min(1040px,100%)}
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-bottom:14px;
    }
    .title{display:flex; align-items:center; gap:12px}
    .title h1{margin:0; font-size:22px; letter-spacing:.2px}
    .badge{
      display:inline-flex; gap:8px; align-items:center; padding:8px 12px;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      border-radius:999px; color:#0c1233; font-weight:900;
    }
    .actions{display:flex; gap:8px; align-items:center}
    .btn{
      appearance:none; background:transparent; color:var(--text);
      border:1px solid var(--border); border-radius:12px; padding:10px 14px; cursor:pointer; font-weight:700;
    }
    .btn:hover{filter:brightness(1.08)}
    .grid{
      display:grid; grid-template-columns: 1.15fr .85fr; gap:16px;
    }
    @media (max-width:900px){ .grid{grid-template-columns:1fr} }
    .card{
      background:
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)),
        var(--card);
      border:1px solid var(--border); border-radius:22px; box-shadow:var(--shadow); overflow:hidden;
    }
    .card-head{display:flex; align-items:center; justify-content:space-between; padding:18px 18px 0}
    .card-head h2{margin:0; font-size:18px}
    .wrap{padding:18px}
    .flex{display:flex; gap:14px; flex-wrap:wrap}
    .tile{
      flex:1 1 260px; min-height:124px; padding:18px;
      background:var(--input); border:1px solid var(--border); border-radius:16px;
      display:flex; flex-direction:column; justify-content:space-between;
      transition:transform .16s ease, box-shadow .16s ease;
    }
    .tile:hover{transform:translateY(-3px)}
    .tile h3{margin:0 0 6px; font-size:16px}
    .tile p{margin:0; color:var(--muted); font-size:13px}
    .tile .go{
      align-self:flex-end; margin-top:10px; text-decoration:none; font-weight:900;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      color:#0c1233; padding:10px 14px; border-radius:12px; border:0;
      display:inline-flex; align-items:center; gap:8px;
    }
    .form-grid{display:grid; grid-template-columns:1fr; gap:12px}
    .field{
      background:var(--input); border:1px solid var(--border); border-radius:14px; padding:12px; position:relative;
    }
    .label{display:block; font-size:12px; color:var(--muted); margin-bottom:6px}
    .input{width:100%; background:transparent; border:none; outline:none; color:var(--text); font-size:16px; padding:6px 0}
    .row{display:flex; gap:10px; align-items:center}
    .submit{
      background:linear-gradient(90deg,var(--accent),var(--accent2)); border:none; color:#0c1233;
      padding:10px 14px; border-radius:12px; font-weight:900; cursor:pointer;
    }
    .danger{background:linear-gradient(90deg,var(--danger),#ff9f9f); color:#2b0b0b}
    .hint{font-size:12px; color:var(--muted); margin-top:6px}
    .hint.err{color:var(--danger)}
    .kbd{font:600 12px/1 'JetBrains Mono','SFMono-Regular',monospace; padding:4px 6px; border:1px solid var(--border); border-radius:6px}
    .footer{display:flex; justify-content:space-between; align-items:center; color:var(--muted); padding:0 18px 18px}
    /* toast */
    .toast{
      position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:10px; z-index:50;
    }
    .toast .msg{
      background:var(--card); border:1px solid var(--border); color:var(--text);
      padding:12px 14px; border-radius:12px; box-shadow:var(--shadow); max-width:min(420px, calc(100vw - 48px));
      animation:slide .2s ease;
    }
    @keyframes slide{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}
    .sr{position:absolute; left:-9999px}
    a.link{color:var(--text)}
  </style>
</head>
<body>
  <div class="app">
    <nav class="nav">
      <div class="title">
        <h1>ğŸ—ƒï¸ íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ-V2</h1>
        <span class="badge">âœ¨ ë©”ì¸</span>
      </div>
      <div class="actions">
        <span class="kbd" title="Alt+Q">Alt+Q ì¡°íšŒ</span>
        <span class="kbd" title="Alt+N">Alt+N ë“±ë¡</span>
        <span class="kbd" title="Alt+U">Alt+U ìˆ˜ì •</span>
        <span class="kbd" title="Alt+X">Alt+X ì‚­ì œ</span>
        <button class="btn" id="toggle">ğŸŒ— í…Œë§ˆ ì „í™˜</button>
      </div>
    </nav>

    <section class="grid">
      <!-- ì¢Œ: ì£¼ìš” ì•¡ì…˜ -->
      <div class="card">
        <div class="card-head">
          <h2>ğŸ” ë¹ ë¥¸ ì•¡ì…˜</h2>
        </div>
        <div class="wrap">
          <div class="flex">
            <!-- ì¡°íšŒ -->
            <article class="tile">
              <div>
                <h3>ğŸ“‹ íšŒì› ì¡°íšŒ</h3>
                <p>ì „ì²´ ëª©ë¡ í™•ì¸ ë° í–‰ì—ì„œ ë°”ë¡œ <strong>ìˆ˜ì •/ì‚­ì œ</strong> ìˆ˜í–‰</p>
              </div>
              <a class="go" href="select.php" aria-label="íšŒì› ì¡°íšŒë¡œ ì´ë™">ì´ë™í•˜ê¸° âœ</a>
            </article>

            <!-- ë“±ë¡ -->
            <article class="tile">
              <div>
                <h3>â• ì‹ ê·œ íšŒì› ë“±ë¡</h3>
                <p>ìœ íš¨ì„± ê²€ì‚¬Â·ì§„í–‰ë„ í‘œì‹œÂ·ë¼ì´íŠ¸/ë‹¤í¬ ì§€ì›</p>
              </div>
              <a class="go" href="insert.php" aria-label="ì‹ ê·œ íšŒì› ë“±ë¡ í˜ì´ì§€ë¡œ ì´ë™">ì´ë™í•˜ê¸° âœ</a>
            </article>
          </div>
        </div>
        <div class="footer">
          <span>Tip: ìƒë‹¨ <span class="kbd">Alt+Q/N</span> ë‹¨ì¶•í‚¤ë¡œ ë” ë¹¨ë¦¬ ì´ë™í•  ìˆ˜ ìˆì–´ìš”.</span>
          <a class="link" href="main.html">ğŸ  ë©”ì¸ìœ¼ë¡œ</a>
        </div>
      </div>

      <!-- ìš°: ìˆ˜ì •/ì‚­ì œ ì¹´ë“œ -->
      <div class="card" role="region" aria-label="ë¹ ë¥¸ ìˆ˜ì •/ì‚­ì œ">
        <div class="card-head">
          <h2>âœï¸ ë¹ ë¥¸ ìˆ˜ì • Â· ğŸ—‘ï¸ ë¹ ë¥¸ ì‚­ì œ</h2>
        </div>
        <div class="wrap">
          <span id="live" class="sr" aria-live="polite"></span>
          <div class="form-grid">
            <!-- ìˆ˜ì • í¼ -->
            <form id="updateForm" method="get" action="update.php" novalidate>
              <div class="field">
                <label class="label" for="uidU">íšŒì› ìˆ˜ì • - íšŒì› ì•„ì´ë””</label>
                <div class="row">
                  <input class="input" id="uidU" name="userID" type="text" placeholder="ìˆ˜ì •í•  íšŒì› ì•„ì´ë”” ì…ë ¥"
                         required pattern="^[A-Za-z0-9_]{3,20}$" maxlength="20" autocomplete="off">
                  <button class="submit" type="submit">ìˆ˜ì • í˜ì´ì§€ ì—´ê¸°</button>
                </div>
                <div class="hint" id="hintU">ì˜ë¬¸/ìˆ«ì/ë°‘ì¤„ 3~20ì</div>
              </div>
            </form>

            <!-- ì‚­ì œ í¼ -->
            <form id="deleteForm" method="get" action="delete.php" novalidate>
              <div class="field">
                <label class="label" for="uidD">íšŒì› ì‚­ì œ - íšŒì› ì•„ì´ë””</label>
                <div class="row">
                  <input class="input" id="uidD" name="userID" type="text" placeholder="ì‚­ì œí•  íšŒì› ì•„ì´ë”” ì…ë ¥"
                         required pattern="^[A-Za-z0-9_]{3,20}$" maxlength="20" autocomplete="off">
                  <button class="submit danger" type="submit">ì‚­ì œ ì‹¤í–‰</button>
                </div>
                <div class="hint" id="hintD">ì‚­ì œ ì „ í™•ì¸ ì°½ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤</div>
              </div>
            </form>
          </div>
        </div>
        <div class="footer">
          <span>ë‹¨ì¶•í‚¤: <span class="kbd">Alt+U</span> ìˆ˜ì • Â· <span class="kbd">Alt+X</span> ì‚­ì œ</span>
          <span style="opacity:.8">âš ï¸ ì‚­ì œëŠ” ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
        </div>
      </div>
    </section>
  </div>

  <!-- í† ìŠ¤íŠ¸ -->
  <div class="toast" id="toast"></div>

  <script>
    // ğŸŒ— í…Œë§ˆ í† ê¸€
    const root = document.documentElement;
    const toggle = document.getElementById('toggle');
    toggle.addEventListener('click', () => {
      root.dataset.theme = (root.dataset.theme === 'light') ? 'dark' : 'light';
      pushToast(root.dataset.theme === 'light' ? 'ë¼ì´íŠ¸ í…Œë§ˆë¡œ ë³€ê²½ë˜ì—ˆì–´ìš”.' : 'ë‹¤í¬ í…Œë§ˆë¡œ ë³€ê²½ë˜ì—ˆì–´ìš”.');
    });

    // âœ… ìœ íš¨ì„± ê²€ì‚¬ + ì•ˆë‚´
    const live = document.getElementById('live');
    const updateForm = document.getElementById('updateForm');
    const deleteForm = document.getElementById('deleteForm');
    const uidU = document.getElementById('uidU');
    const uidD = document.getElementById('uidD');
    const hintU = document.getElementById('hintU');
    const hintD = document.getElementById('hintD');

    function setHint(el, hintEl, ok, msgOk='ì¢‹ìŠµë‹ˆë‹¤!', msgErr='ì˜ë¬¸/ìˆ«ì/ë°‘ì¤„ 4~20ì'){
      hintEl.classList.remove('err');
      if(ok){ hintEl.textContent = msgOk; }
      else { hintEl.textContent = msgErr; hintEl.classList.add('err'); }
    }
    function validateId(el, hintEl){
      const ok = el.value.trim().length > 0 && el.checkValidity();
      setHint(el, hintEl, ok);
      return ok;
    }

    uidU.addEventListener('input', ()=>validateId(uidU, hintU));
    uidD.addEventListener('input', ()=>validateId(uidD, hintD));

    updateForm.addEventListener('submit', (e)=>{
      if(!validateId(uidU, hintU)){
        e.preventDefault(); pushToast('ìˆ˜ì •í•  ì•„ì´ë””ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.'); uidU.focus();
      }
    });

    deleteForm.addEventListener('submit', (e)=>{
      if(!validateId(uidD, hintD)){
        e.preventDefault(); pushToast('ì‚­ì œí•  ì•„ì´ë””ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.'); uidD.focus(); return;
      }
      const id = uidD.value.trim();
      if(!confirm(`ì •ë§ ì‚­ì œí•˜ì‹œê² ì–´ìš”?\nì•„ì´ë””: ${id}\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)){
        e.preventDefault();
      }
    });

    // âŒ¨ï¸ ë‹¨ì¶•í‚¤
    window.addEventListener('keydown', (e)=>{
      if(!e.altKey) return;
      const k = e.key.toLowerCase();
      if(k === 'q'){ location.href='select.php'; }
      if(k === 'n'){ location.href='insert.php'; }
      if(k === 'u'){ document.getElementById('uidU').focus(); }
      if(k === 'x'){ document.getElementById('uidD').focus(); }
    });

    // ğŸª„ í† ìŠ¤íŠ¸
    const toast = document.getElementById('toast');
    function pushToast(text, ttl=2400){
      const el = document.createElement('div');
      el.className = 'msg';
      el.textContent = text;
      toast.appendChild(el);
      setTimeout(()=>{ el.style.opacity='0'; el.style.transform='translateY(6px)'; }, ttl-300);
      setTimeout(()=>{ toast.removeChild(el); }, ttl);
      live.textContent = text;
    }

    // ì´ˆê¸° íŒíŠ¸ ìƒíƒœ
    setHint(uidU, hintU, false);
    setHint(uidD, hintD, false);
  </script>
</body>
</html>
